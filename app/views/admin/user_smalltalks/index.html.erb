<div class="container">
  <div style="margin: auto">
    <h1>Demandes de papotages</h1>

    <div class="row">
      <% if @user_smalltalks.any? %>
        <table class="custom-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Utilisateur</th>
              <th>Créée le</th>
              <th>match_format</th>
              <th>match_locality</th>
              <th>match_gender</th>
              <th>match_interest</th>
              <th>matched</th>
              <th>Papotage matché</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% @user_smalltalks.each do |user_smalltalk| %>
              <tr>
                <td><%= user_smalltalk.id %></td>
                <td><%= link_to user_smalltalk.user.full_name, edit_admin_user_path(user_smalltalk.user) %></td>
                <td><%= l user_smalltalk.created_at.to_date %></td>
                <td><%= user_smalltalk.match_format %></td>
                <td><%= boolean_label user_smalltalk.match_locality %></td>
                <td><%= boolean_label user_smalltalk.match_gender %></td>
                <td><%= boolean_label user_smalltalk.match_interest %></td>
                <td><%= boolean_label user_smalltalk.matched_at.present? %></td>
                <td><%= link_to user_smalltalk.smalltalk.uuid_v2, admin_smalltalk_path(user_smalltalk.smalltalk) if user_smalltalk.smalltalk.present? %></td>
                <td><%= link_to "Matcher", match_admin_user_smalltalk_path(user_smalltalk), method: :post, class: "btn btn-warning" %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <div class="alert alert-info" role="alert" style="display: flex; align-items: center">
          <div style="flex-grow: 1">
            Aucune demande de papotage n'a encore été réalisée.
          </div>
        </div>
      <% end %>
    </div>

    <%= page_entries_info @user_smalltalks, entry_name: 'Demandes de papotages' %>
    <div class="container">
      <%= paginate(@user_smalltalks) %>
    </div>
  </div>
</div>
